import{r as se,s as K,n as O,y as $,z as j,f as ce}from"../chunks/scheduler.GsqmyvpS.js";import{l as x,n as B,S as Y,i as G,e as w,s as A,t as R,c as b,a as P,d as y,f as z,b as L,y as N,o as g,g as H,h as v,j as U,u as ae,v as ne,w as le,x as re,z as F,A as W,m as ie,q as oe,B as J,k as Q}from"../chunks/index.RoeIq8KL.js";function X(l){return l?.length!==void 0?l:Array.from(l)}function ue(l,e){x(l,1,1,()=>{e.delete(l.key)})}function _e(l,e,t,s,c,a,r,o,i,n,u,m){let _=l.length,f=a.length,p=_;const M={};for(;p--;)M[l[p].key]=p;const V=[],C=new Map,k=new Map,E=[];for(p=f;p--;){const h=m(c,a,p),S=t(h);let T=r.get(S);T?s&&E.push(()=>T.p(h,e)):(T=n(S,h),T.c()),C.set(S,V[p]=T),S in M&&k.set(S,Math.abs(p-M[S]))}const d=new Set,I=new Set;function D(h){B(h,1),h.m(o,u),r.set(h.key,h),u=h.first,f--}for(;_&&f;){const h=V[f-1],S=l[_-1],T=h.key,q=S.key;h===S?(u=h.first,_--,f--):C.has(q)?!r.has(T)||d.has(T)?D(h):I.has(q)?_--:k.get(T)>k.get(q)?(I.add(T),D(h)):(d.add(q),_--):(i(S,r),_--)}for(;_--;){const h=l[_];C.has(h.key)||i(h,r)}for(;f;)D(V[f-1]);return se(E),V}function de(l){let e,t,s,c,a,r,o,i,n,u="<p>Puntuación de los usuarios</p>";return{c(){e=w("div"),t=w("div"),s=w("progress"),c=A(),a=w("p"),r=R(l[0]),o=R("/10"),i=A(),n=w("div"),n.innerHTML=u,this.h()},l(m){e=b(m,"DIV",{class:!0});var _=P(e);t=b(_,"DIV",{class:!0});var f=P(t);s=b(f,"PROGRESS",{max:!0,class:!0}),P(s).forEach(y),c=z(f),a=b(f,"P",{class:!0});var p=P(a);r=L(p,l[0]),o=L(p,"/10"),p.forEach(y),f.forEach(y),i=z(_),n=b(_,"DIV",{class:!0,"data-svelte-h":!0}),N(n)!=="svelte-1rp9g89"&&(n.innerHTML=u),_.forEach(y),this.h()},h(){s.value=l[0],g(s,"max","10"),g(s,"class","svelte-18qwalp"),g(a,"class","progress-text svelte-18qwalp"),g(t,"class","puntuacion__barra svelte-18qwalp"),g(n,"class","puntuacion__nombre svelte-18qwalp"),g(e,"class","puntuacion svelte-18qwalp")},m(m,_){H(m,e,_),v(e,t),v(t,s),v(t,c),v(t,a),v(a,r),v(a,o),v(e,i),v(e,n)},p(m,[_]){_&1&&(s.value=m[0]),_&1&&U(r,m[0])},i:O,o:O,d(m){m&&y(e)}}}function fe(l,e,t){let{vote_average:s}=e;return l.$$set=c=>{"vote_average"in c&&t(0,s=c.vote_average)},[s]}class he extends Y{constructor(e){super(),G(this,e,fe,de,K,{vote_average:0})}}function ve(l){let e,t,s,c,a,r,o,i,n,u,m,_,f,p,M,V,C,k;return C=new he({props:{vote_average:l[2]}}),{c(){e=w("div"),t=w("div"),s=w("img"),a=A(),r=w("div"),o=w("div"),i=w("h4"),n=R(l[0]),u=A(),m=w("p"),_=R(l[4]),f=A(),p=w("p"),M=R(l[3]),V=A(),ae(C.$$.fragment),this.h()},l(E){e=b(E,"DIV",{class:!0});var d=P(e);t=b(d,"DIV",{class:!0});var I=P(t);s=b(I,"IMG",{src:!0,alt:!0,class:!0}),I.forEach(y),a=z(d),r=b(d,"DIV",{class:!0});var D=P(r);o=b(D,"DIV",{class:!0});var h=P(o);i=b(h,"H4",{class:!0});var S=P(i);n=L(S,l[0]),S.forEach(y),u=z(h),m=b(h,"P",{class:!0});var T=P(m);_=L(T,l[4]),T.forEach(y),f=z(h),p=b(h,"P",{class:!0});var q=P(p);M=L(q,l[3]),q.forEach(y),h.forEach(y),V=z(D),ne(C.$$.fragment,D),D.forEach(y),d.forEach(y),this.h()},h(){$(s.src,c=`https://image.tmdb.org/t/p/w200${l[1]}`)||g(s,"src",c),g(s,"alt",l[0]),g(s,"class","svelte-1klxru5"),g(t,"class","card__img svelte-1klxru5"),g(i,"class","svelte-1klxru5"),g(m,"class","card__genero svelte-1klxru5"),g(p,"class","card__fecha svelte-1klxru5"),g(o,"class","card__datos svelte-1klxru5"),g(r,"class","card__detalle svelte-1klxru5"),g(e,"class","card svelte-1klxru5")},m(E,d){H(E,e,d),v(e,t),v(t,s),v(e,a),v(e,r),v(r,o),v(o,i),v(i,n),v(o,u),v(o,m),v(m,_),v(o,f),v(o,p),v(p,M),v(r,V),le(C,r,null),k=!0},p(E,[d]){(!k||d&2&&!$(s.src,c=`https://image.tmdb.org/t/p/w200${E[1]}`))&&g(s,"src",c),(!k||d&1)&&g(s,"alt",E[0]),(!k||d&1)&&U(n,E[0]),(!k||d&8)&&U(M,E[3]);const I={};d&4&&(I.vote_average=E[2]),C.$set(I)},i(E){k||(B(C.$$.fragment,E),k=!0)},o(E){x(C.$$.fragment,E),k=!1},d(E){E&&y(e),re(C)}}}function me(l,e,t){let{title:s}=e,{poster_path:c}=e,{vote_average:a}=e,{release_date:r}=e,{genre_ids:o}=e;const i=[{id:28,name:"Acción"},{id:12,name:"Aventura"},{id:16,name:"Animación"},{id:35,name:"Comedia"},{id:80,name:"Crimen"},{id:99,name:"Documental"},{id:18,name:"Drama"},{id:10751,name:"Familia"},{id:14,name:"Fantasía"},{id:36,name:"Historia"},{id:27,name:"Terror"},{id:10402,name:"Música"},{id:9648,name:"Misterio"},{id:10749,name:"Romance"},{id:878,name:"Ciencia ficción"},{id:10770,name:"Película de TV"},{id:53,name:"Suspense"},{id:10752,name:"Bélica"},{id:37,name:"Western"}];let n=o.map(u=>{let m=i.find(_=>_.id===u);return m?" "+m.name:`Género con ID ${u} no encontrado`});return l.$$set=u=>{"title"in u&&t(0,s=u.title),"poster_path"in u&&t(1,c=u.poster_path),"vote_average"in u&&t(2,a=u.vote_average),"release_date"in u&&t(3,r=u.release_date),"genre_ids"in u&&t(5,o=u.genre_ids)},[s,c,a,r,n,o]}class pe extends Y{constructor(e){super(),G(this,e,me,ve,K,{title:0,poster_path:1,vote_average:2,release_date:3,genre_ids:5})}}function ge(l){const e=l-1;return e*e*e+1}function Z(l,{delay:e=0,duration:t=400,easing:s=ge,x:c=0,y:a=0,opacity:r=0}={}){const o=getComputedStyle(l),i=+o.opacity,n=o.transform==="none"?"":o.transform,u=i*(1-r),[m,_]=j(c),[f,p]=j(a);return{delay:e,duration:t,easing:s,css:(M,V)=>`
			transform: ${n} translate(${(1-M)*m}${_}, ${(1-M)*f}${p});
			opacity: ${i-u*V}`}}var ke={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function ee(l,e,t){const s=l.slice();return s[5]=e[t],s}function Ee(l){let e,t="No hay películas encontradas";return{c(){e=w("p"),e.textContent=t},l(s){e=b(s,"P",{"data-svelte-h":!0}),N(e)!=="svelte-h81di5"&&(e.textContent=t)},m(s,c){H(s,e,c)},p:O,i:O,o:O,d(s){s&&y(e)}}}function we(l){let e,t=[],s=new Map,c,a,r=X(l[1]);const o=i=>i[5].id;for(let i=0;i<r.length;i+=1){let n=ee(l,r,i),u=o(n);s.set(u,t[i]=te(u,n))}return{c(){e=w("div");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=b(i,"DIV",{class:!0});var n=P(e);for(let u=0;u<t.length;u+=1)t[u].l(n);n.forEach(y),this.h()},h(){g(e,"class","resultados svelte-x03mz7")},m(i,n){H(i,e,n);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);a=!0},p(i,n){n&2&&(r=X(i[1]),oe(),t=_e(t,n,o,1,i,r,s,e,ue,te,null,ee),ie())},i(i){if(!a){for(let n=0;n<r.length;n+=1)B(t[n]);i&&ce(()=>{a&&(c||(c=J(e,Z,{y:200,duration:2e3},!0)),c.run(1))}),a=!0}},o(i){for(let n=0;n<t.length;n+=1)x(t[n]);i&&(c||(c=J(e,Z,{y:200,duration:2e3},!1)),c.run(0)),a=!1},d(i){i&&y(e);for(let n=0;n<t.length;n+=1)t[n].d();i&&c&&c.end()}}}function te(l,e){let t,s,c;return s=new pe({props:{title:e[5].title,poster_path:e[5].poster_path,vote_average:e[5].vote_average,release_date:e[5].release_date,genre_ids:e[5].genre_ids}}),{key:l,first:null,c(){t=Q(),ae(s.$$.fragment),this.h()},l(a){t=Q(),ne(s.$$.fragment,a),this.h()},h(){this.first=t},m(a,r){H(a,t,r),le(s,a,r),c=!0},p(a,r){e=a;const o={};r&2&&(o.title=e[5].title),r&2&&(o.poster_path=e[5].poster_path),r&2&&(o.vote_average=e[5].vote_average),r&2&&(o.release_date=e[5].release_date),r&2&&(o.genre_ids=e[5].genre_ids),s.$set(o)},i(a){c||(B(s.$$.fragment,a),c=!0)},o(a){x(s.$$.fragment,a),c=!1},d(a){a&&y(t),re(s,a)}}}function be(l){let e,t,s=`<h1 class="svelte-x03mz7">Bienvenidos</h1> <h2 class="svelte-x03mz7">Millones de películas, programas de televisión y personas por descubrir.
      Explora ahora.</h2>`,c,a,r,o,i,n,u="Buscar",m,_,f,p,M,V;const C=[we,Ee],k=[];function E(d,I){return d[1].length>0?0:1}return _=E(l),f=k[_]=C[_](l),{c(){e=w("main"),t=w("div"),t.innerHTML=s,c=A(),a=w("section"),r=w("div"),o=w("input"),i=A(),n=w("button"),n.textContent=u,m=A(),f.c(),this.h()},l(d){e=b(d,"MAIN",{});var I=P(e);t=b(I,"DIV",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-1h17snc"&&(t.innerHTML=s),c=z(I),a=b(I,"SECTION",{class:!0});var D=P(a);r=b(D,"DIV",{class:!0});var h=P(r);o=b(h,"INPUT",{placeholder:!0,class:!0}),i=z(h),n=b(h,"BUTTON",{class:!0,"data-svelte-h":!0}),N(n)!=="svelte-xn97v9"&&(n.textContent=u),h.forEach(y),m=z(D),f.l(D),D.forEach(y),I.forEach(y),this.h()},h(){g(t,"class","cabecera svelte-x03mz7"),g(o,"placeholder","Escribe el nombre de una película"),g(o,"class","svelte-x03mz7"),g(n,"class","svelte-x03mz7"),g(r,"class","buscador svelte-x03mz7"),g(a,"class","svelte-x03mz7")},m(d,I){H(d,e,I),v(e,t),v(e,c),v(e,a),v(a,r),v(r,o),F(o,l[0]),v(r,i),v(r,n),v(a,m),k[_].m(a,null),p=!0,M||(V=[W(o,"input",l[4]),W(n,"click",l[2])],M=!0)},p(d,[I]){I&1&&o.value!==d[0]&&F(o,d[0]);let D=_;_=E(d),_===D?k[_].p(d,I):(oe(),x(k[D],1,1,()=>{k[D]=null}),ie(),f=k[_],f?f.p(d,I):(f=k[_]=C[_](d),f.c()),B(f,1),f.m(a,null))},i(d){p||(B(f),p=!0)},o(d){x(f),p=!1},d(d){d&&y(e),k[_].d(),M=!1,se(V)}}}function ye(l,e,t){const s=ke.VITE_TMDB_API_KEY;let c="",a=[];const r=async()=>{const n=await(await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${s}&query=${c}&language=es-ES`)).json();t(1,a=n.results),t(0,c=" ")};function o(){c=this.value,t(0,c)}return[c,a,r,s,o]}class Me extends Y{constructor(e){super(),G(this,e,ye,be,K,{API_KEY:3})}get API_KEY(){return this.$$.ctx[3]}}export{Me as component};
